<!DOCTYPE html>
<html>

<body>
    <form id="form" enctype="multipart/form-data">
        <input type="file" name="avatar" />
        <br />
        <button type="submit" name="upload">Upload</button>
        <br />
        <img id="avatar">
    </form>

    <script>
        form.addEventListener('submit', event => {
            event.preventDefault();
            let formData = new FormData();
            formData.append('avatar', event.target[0].files[0]);
            fetch('http://localhost:3000/api/avatar', { method: 'post', body: formData })
                .then(res => res.json())
                .then(res => {
                    console.log(avatar.src)
                    avatar.src = `http://localhost:3000${res.payload.url}`;
                    console.log(res.payload)

                })
                .catch(console.log);
        });
    </script>
</body>